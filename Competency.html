<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高中物理素養題</title>
    <style>
        /* 你的原始CSS樣式保持不變 */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f4f8;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        h2 {
            text-align: center;
            color: #0056b3;
            font-size: 1.5rem;
            margin-top: 5px;
            margin-bottom: 5px;
        }

        #question-title {
            text-align: center;
            color: red;
            font-size: 1rem;
            margin-top: 5px;
            margin-bottom: 5px;
        }

        #content-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            width: 100%;
        }

        #passage {
            background-color: #fff;
            margin-bottom: 20px;
        }

        .dropzone {
            width: 120px;
            padding: 5px;
            margin: 0 5px;
            border: 2px dashed #0056b3;
            border-radius: 8px;
            text-align: center;
            background-color: #e7f3ff;
            transition: background-color 0.3s, border-color 0.3s;
            display: inline-block;
            cursor: pointer; /* 添加指標以顯示可點擊 */
        }

        .dropzone.selected {
            border-color: #ffcc00; /* 更明顯的邊框顏色 */
            background-color: white; /* 更亮的背景顏色 */
            box-shadow: 0 0 10px rgba(255, 204, 0, 0.8); /* 添加陰影增強互動感 */
            transform: scale(1.05); /* 輕微放大效果 */
        }

        .answers-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
            gap: 10px;
        }

        .answer {
            padding: 10px 20px;
            background-color: #ffffff;
            border: 2px solid #0056b3;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.3s, border-color 0.3s;
            font-size: 1rem;
            text-align: center;
        }

        .answer:hover {
            transform: scale(1.1);
            background-color: #e0f7ff;
            border-color: #007bff;
        }

        button {
            display: block;
            margin: 20px auto;
            padding: 12px 30px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #003d80;
        }

        .correct {
            background-color: #d4edda;
            border-color: #28a745;
            pointer-events: none; /* 禁用點擊事件 */
        }

        .incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }

        .explanation {
            margin-top: 20px;
            font-size: 1rem;
            color: #333;
            text-align: left;
            max-width: 800px;
            margin: auto;
        }

        #next-question {
            display: none;
        }
    </style>
</head>
<body>
    <div id="content-container">
        <h2>高中物理素養題</h2>
        <h3 id="question-title">請先選擇空格，再選擇答案填入</h3>

        <div id="question-content">
            <div id="passage">
                在物理學中，基本交互作用是支配粒子間相互作用的四種基本力。這些基本力在自然界中扮演著不同的角色，並且它們的作用範圍和影響對象各不相同。首先，<span class="dropzone" id="dropzone1">&nbsp;&nbsp;</span>是四種基本交互作用中一種作用範圍可達無窮遠的力，這使得它在星系形成中扮演了重要角色。相反，<span class="dropzone" id="dropzone2">&nbsp;&nbsp;</span>作用範圍極其微小，僅在亞原子粒子之間發揮作用，但它能夠使單獨的中子衰變為質子、電子和其他粒子，這一過程被稱為β衰變。至於原子內部的情況，電子繞著原子核運動主要是由於<span class="dropzone" id="dropzone3">&nbsp;&nbsp;</span>的存在，而非重力作用。此外，在原子核內，質子與中子之間存在<span class="dropzone" id="dropzone4">&nbsp;&nbsp;</span>，這種力使它們能夠穩定結合在一起，維持原子核的完整性。
            </div>

            <div class="answers-container">
                <div class="answer" onclick="selectAnswer(this)">摩擦力</div>
                <div class="answer" onclick="selectAnswer(this)">正向力</div>
                <div class="answer" onclick="selectAnswer(this)">壓力</div>
                <div class="answer" onclick="selectAnswer(this)">弱力</div>
                <div class="answer" onclick="selectAnswer(this)">電磁力</div>
                <div class="answer" onclick="selectAnswer(this)">繩張力</div>
                <div class="answer" onclick="selectAnswer(this)">彈力</div>
                <div class="answer" onclick="selectAnswer(this)">強力</div>
                <div class="answer" onclick="selectAnswer(this)">重力</div>
            </div>

            <button onclick="checkAnswers()">確認答案</button>
        </div>

        <div class="explanation" id="explanation" style="display:none;">
            <p id="answer-explanation"></p>
        </div>
        <button id="next-question" onclick="nextQuestion()">下一題</button>
    </div>

    <script>
        let selectedDropzone = null;

        document.querySelectorAll('.dropzone').forEach(dropzone => {
            dropzone.addEventListener('click', function() {
                // 如果之前有選擇的 dropzone，取消其選中狀態
                if (selectedDropzone) {
                    selectedDropzone.classList.remove('selected');
                }
                // 設置新的選中狀態
                selectedDropzone = dropzone;
                dropzone.classList.add('selected');
            });
        });

        function selectAnswer(element) {
            if (selectedDropzone && selectedDropzone.innerHTML.trim() === "&nbsp;&nbsp;") {
                selectedDropzone.innerHTML = element.innerHTML;
                selectedDropzone.classList.add('has-answer'); // 標記為已填入答案
                selectedDropzone.onclick = function() {
                    removeAnswer(selectedDropzone, element);
                };

                element.classList.add('selected'); // 標記選中的答案
                element.style.display = 'none'; // 暫時隱藏答案

                // 取消選中狀態
                selectedDropzone.classList.remove('selected');
                selectedDropzone = null;
            }
        }

        function removeAnswer(dropzone, element) {
            if (dropzone.classList.contains('correct')) return; // 如果是正確答案，則不允許修改

            element.style.display = 'block'; // 恢復顯示答案
            dropzone.innerHTML = "&nbsp;&nbsp;"; // 清空dropzone
            dropzone.classList.remove('has-answer'); // 移除已填入答案的標記
            dropzone.onclick = null; // 移除點擊事件

            // 設置選中狀態
            selectedDropzone = dropzone;
            dropzone.classList.add('selected');
        }

        function checkAnswers() {
            const answers = {
                dropzone1: "重力",
                dropzone2: "弱力",
                dropzone3: "電磁力",
                dropzone4: "強力"
            };

            let allCorrect = true;

            for (const [key, value] of Object.entries(answers)) {
                const dropzone = document.getElementById(key);
                if (dropzone.innerHTML.trim() === value) {
                    dropzone.classList.add("correct");
                    dropzone.classList.remove("incorrect");
                    dropzone.onclick = null; // 正確答案不能再點擊
                } else {
                    dropzone.classList.add("incorrect");
                    dropzone.classList.remove("correct");
                    showAnswerInOptions(dropzone.innerHTML.trim()); // 如果答案錯誤，將其顯示回答案區
                    dropzone.innerHTML = "&nbsp;&nbsp;"; // 清空錯誤答案
                    dropzone.classList.remove('has-answer'); // 移除已填入答案的標記
                    dropzone.onclick = null; // 移除點擊事件
                    allCorrect = false;
                }
            }

            const explanation = document.getElementById("explanation");
            const nextButton = document.getElementById("next-question");
            const questionContent = document.getElementById("question-content");
            const answerExplain = document.getElementById("answer-explanation");

            if (allCorrect) {
                alert("答案完全正確!")
                questionContent.style.display = "none";
                answerExplain.innerText = "首先，重力是作用範圍可達無窮遠的力。重力雖然相對其他基本力來說非常微弱，但因其作用範圍廣泛，對於天體運動、星系形成等大尺度結構具有極其重要的影響。重力在宇宙學和天體物理學中扮演著核心角色，支配著行星、恆星、星系甚至整個宇宙的結構和演化。相對於重力，弱力的作用範圍非常微小，僅在亞原子粒子之間發揮作用。弱力是導致某些粒子衰變的關鍵力量，特別是在β衰變過程中，單獨的中子可以在弱力的作用下衰變為質子、電子和反微中子。弱力在粒子物理學和核物理學中起著重要作用，尤其在放射性衰變和核反應中。在原子內部，電子繞著原子核運動主要是由於電磁力的存在。電磁力是由帶電粒子之間的電荷互相作用產生的。它是使電子保持在原子核周圍運動的主要力量，而不是重力。電磁力不僅在原子尺度上起作用，還在化學反應、材料性質以及電力傳輸中扮演著關鍵角色。最後，強力是作用在原子核內的質子與中子之間的一種強大的力。強力的作用範圍極短，但它是所有基本力中最強的一種。強力能夠克服質子之間的電磁排斥作用，將質子和中子緊密地結合在一起，維持原子核的穩定性。因此，強力是原子核結構的基礎，也是核能和核反應的根本來源。";
                explanation.style.display = "block";
                nextButton.style.display = "block";
                document.getElementById("question-title").innerText = "詳解";
            } else {
                explanation.style.display = "none";
                nextButton.style.display = "none";
            }
        }

        function showAnswerInOptions(answerText) {
            const answers = document.querySelectorAll('.answer');
            answers.forEach(answer => {
                if (answer.innerHTML === answerText) {
                    answer.style.display = 'block'; // 錯誤答案重新顯示
                    answer.style.pointerEvents = 'auto'; // 重新啟用選項
                    answer.classList.remove('selected'); // 移除選中標記
                }
            });
        }

        function nextQuestion() {
            alert("尚未開發此功能");
        }
    </script>
</body>
</html>
