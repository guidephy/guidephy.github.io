<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç™½åƒå±¤çš„å®ˆè­·ä»»å‹™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è‡ªå®šç¾©å‹•ç•«èˆ‡æ¨£å¼ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounceSubtle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-bounce-subtle {
            animation: bounceSubtle 2s infinite;
        }
        .touch-action-manipulation {
            touch-action: manipulation;
        }
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans antialiased selection:bg-emerald-200">

    <!-- æ‡‰ç”¨ç¨‹å¼ä¸»å®¹å™¨ -->
    <div id="app" class="max-w-md mx-auto min-h-screen bg-white shadow-2xl relative flex flex-col">
        <!-- å…§å®¹å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
    </div>

    <!-- é‚è¼¯è…³æœ¬ -->
    <script>
        // --- 1. åœ–ç¤ºè³‡æº (SVG Strings) ---
        const Icons = {
            MapPin: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,
            Wind: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>`,
            BookOpen: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>`,
            Globe: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>`,
            Shield: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>`,
            Award: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/></svg>`,
            CheckCircle: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>`,
            HelpCircle: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>`,
            ArrowRight: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>`,
            Camera: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>`,
            Upload: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>`
        };

        // --- 2. éŠæˆ²è³‡æ–™ (Levels Data) ---
        const levels = [
            {
                id: 1,
                title: "é—œå¡ä¸€ï¼šèª°ä½åœ¨é€™æ¢æ­¥é“ï¼Ÿ",
                type: "quiz",
                icon: Icons.MapPin,
                storyImage: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXfFB7GbnEkd6u8CnI-pib-beZH3hDq9G9ftAqpFoCIAP8IpiUhbPtZBZKGyDGYRI-49RTrM-9ePC1ekNDMQI3thAt2bSaiiZIUzaDFt9scpVdgt8bmdjOZebuOiNS-0Gd7syEGWYwIzToQ1fO8CAQch?key=7d4iejf1SgNJCcqg1tCPSw",
                question: "æ ¹æ“šå‰›å‰›çš„æ•…äº‹ï¼Œç‚ºä»€éº¼é€™å€‹åœ°æ–¹å«ã€Œè§€éŸ³ã€ï¼Ÿ",
                options: [
                    { id: 'A', text: "A. å› ç‚ºé€™è£¡ä»¥å‰å¾ˆå¤šè§€éŸ³é³¥" },
                    { id: 'B', text: "B. å› ç‚ºè¾²æ°‘ç™¼ç¾åƒè§€éŸ³çš„çŸ³é ­" },
                    { id: 'C', text: "C. å› ç‚ºé€™è£¡æœ‰ä¸€åº§å¾ˆé«˜çš„è§€éŸ³å±±" }
                ],
                correctAnswer: 'B',
                hint: "æ•…äº‹è£¡æåˆ°ï¼Œè¾²å¤«åœ¨æºªæ°´è£¡æ’¿åˆ°äº†ä»€éº¼æ±è¥¿ï¼Ÿ",
                explanation: "æ²’éŒ¯ï¼è§€éŸ³çš„åœ°åç”±ä¾†å°±æ˜¯æºè‡ªã€ŒçŸ³è§€éŸ³ã€çš„å‚³èªªã€‚é€™é¡†åƒè§€éŸ³çš„çŸ³é ­å‡èšäº†ç•¶åœ°äººçš„æ„Ÿæƒ…ï¼Œä¹Ÿè®“é€™è£¡æˆç‚ºä¸€å€‹å……æ»¿æ•…äº‹çš„åœ°æ–¹ã€‚"
            },
            {
                id: 2,
                title: "é—œå¡äºŒï¼šåƒå±¤ä¸æ˜¯è›‹ç³•",
                type: "matching",
                icon: Icons.Wind,
                storyImage: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXeWdo3lh6WfZBvljRclIvPzLTo6Zw2JLSA4tyFo09uQl3eBGnAZcL4shQTCRMeLimTF_A_4ZwqAkGZMC8AGjIxF5Ls5ZnTcNHur0Scplya_M5IOix1KOrqmd7fhf3jqMbSZK6xK6oJpWKVMqwpyBejm?key=FHIAIJ-gaW42Wi8RxY0FKw",
                question: "è«‹å°‡ç™½åƒå±¤çš„ã€Œç‰¹å¾µã€é€£ç·šåˆ°æ­£ç¢ºçš„ã€ŒåŠŸèƒ½ã€æˆ–ã€Œå½¢ç‹€ã€ï¼š",
                leftItems: [
                    { id: 'bark', text: "ğŸŒ³ æ¨¹çš®è»Ÿè»Ÿåƒæµ·ç¶¿" },
                    { id: 'root', text: "ğŸŒ± æ ¹æ‰å¾—å¾ˆæ·±" },
                    { id: 'leaf', text: "ğŸƒ è‘‰å­æœ‰ç‰¹æ®Šé¦™å‘³" },
                    { id: 'flower', text: "ğŸŒ¼ é–‹å‡ºç™½è‰²çš„å°èŠ±" }
                ],
                // å³å´é¸é …å·²æ‰“äº‚é †åºï¼Œé¿å…ç›´æ¥æ°´å¹³å°æ‡‰
                rightItems: [
                    { id: 'brush', text: "ğŸ¼ å½¢ç‹€åƒç“¶å­åˆ·" },
                    { id: 'oil', text: "ğŸ’§ æç…‰ç²¾æ²¹ã€é˜²èšŠ" },
                    { id: 'fire', text: "ğŸ”¥ é˜²ç«ã€éš”çµ•é«˜ç†±" },
                    { id: 'wind', text: "ğŸ›¡ï¸ è®Šæˆé˜²é¢¨æ—ä¿è­·è¾²ä½œç‰©" }
                ],
                correctMatches: { bark: 'fire', root: 'wind', leaf: 'oil', flower: 'brush' },
                hint: "æ•…äº‹æœ‰æåˆ°ï¼šæµ·ç¶¿èˆ¬çš„æ¨¹çš®æ˜¯ç‚ºäº†æ€•ç«ç‡’ï¼Œè€Œç¨®åœ¨è§€éŸ³ä¸»è¦æ˜¯ç‚ºäº†ã€Œæ“‹é¢¨ã€å–”ï¼",
                explanation: "å¤ªå²å®³äº†ï¼ç™½åƒå±¤å…¨èº«éƒ½æ˜¯å¯¶ã€‚é‚£å±¤åšåšçš„æ¨¹çš®æ˜¯å®ƒçš„é˜²ç«è¡£ï¼Œè‘‰å­æ˜¯å¤©ç„¶çš„é˜²èšŠæ¶²ï¼Œè€Œæ·±æ ¹å‰‡æ˜¯å®ˆè­·è§€éŸ³è¾²ç”°æœ€é‡è¦çš„é˜²é¢¨ç‰†ï¼"
            },
            {
                id: 3,
                title: "é—œå¡ä¸‰ï¼šèª°ä¾†é€™è£¡åƒé£¯ï¼Ÿ",
                type: "multiselect",
                icon: Icons.BookOpen,
                storyImage: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXfDknyM3O2DBhlKcH8FoqsHvqFCWSgaCNT-ov0PhbikRogvCwYEiPPb0HRRf4AlN2SgvAlCQ7PD72dCFvOOdN_mgGMdU-5Zf2s9j6eLZo3nHJkHmA_-GI98eqTBcZl9XzEJUG0xHZAJwBgOV1UDNRER?key=FHIAIJ-gaW42Wi8RxY0FKw",
                question: "å“ªäº›å‹•ç‰©ã€Œæœ€å¯èƒ½ã€æŠŠé€™è£¡ç•¶æˆå®¶ï¼Ÿ(è«‹é¸ 2 å€‹)",
                options: [
                    { id: 'bird', text: "ğŸ¦ ç™½é·ºé·¥" },
                    { id: 'bear', text: "ğŸ»â€â„ï¸ åŒ—æ¥µç†Š" },
                    { id: 'frog', text: "ğŸ¸ é’è›™" },
                    { id: 'lizard', text: "ğŸ¦ æ²™æ¼ èœ¥èœ´" }
                ],
                correctAnswers: ['bird', 'frog'],
                hint: "æƒ³ä¸€æƒ³ï¼Œå“ªäº›å‹•ç‰©å–œæ­¡ã€Œæœ‰æ°´ã€åˆæœ‰ã€Œç”°ã€çš„åœ°æ–¹ï¼Ÿ",
                explanation: "ç­”å°äº†ï¼è¾²ç”°ï¼‹æ¨¹æ—ï¼‹æ°´ï¼å¾ˆå¤šå‹•ç‰©çš„å®¶ã€‚ç™½é·ºé·¥å’Œé’è›™éƒ½æ˜¯é€™è£¡çš„å¸¸å®¢ã€‚é€™è£¡æ˜¯ä¸€å€‹è±å¯Œçš„ç”Ÿæ…‹æ¥åŠ›ç«™ï¼"
            },
            {
                id: 4,
                title: "é—œå¡å››ï¼šä¸–ç•Œåœ¨åšä¸€æ¨£çš„äº‹",
                type: "matching",
                icon: Icons.Globe,
                storyImage: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXcIi2pWQ9nCEoNG0jgE-hiYzdBLb6bujUOA25C_VSEp5ZWxNvm_vC057Pnsy6i6r_5BW8qX9nKOyldnP5RAkE-usIxYvHGdOOh5nY-r9-5wCUyUgTKzKRBPtUorpSc5A94xSfBKPnLS1P6PwgQD3GMG?key=FHIAIJ-gaW42Wi8RxY0FKw",
                question: "è«‹æ ¹æ“šå‰›å‰›çš„æ–‡æœ¬ï¼Œå°‡åœ‹å®¶çŸ¥åæ­¥é“é€£ç·šåˆ°æ­£ç¢ºçš„ã€Œæ­¥é“ç›®çš„ã€ï¼š",
                leftItems: [
                    { id: 'tw', text: "ğŸ‡¹ğŸ‡¼ å°ç£ (ç™½åƒå±¤æ—é“)" },
                    { id: 'au', text: "ğŸ‡¦ğŸ‡º æ¾³æ´² (å·¨æ¨¹è°·å¤©ç©ºæ­¥é“)" },
                    { id: 'sg', text: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ (éº¥é‡ŒèŠæ¨¹é ‚åŠæ©‹)" },
                    { id: 'jp', text: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬ (èµ¤æ¾¤è‡ªç„¶ä¼‘é¤Šæ—)" }
                ],
                // å³å´é¸é …å·²æ‰“äº‚é †åºï¼Œé¿å…ç›´æ¥æ°´å¹³å°æ‡‰
                rightItems: [
                    { id: 'health', text: "ğŸ›€ äº«å—æ£®æ—æµ´ (ç™‚ç™’èº«å¿ƒ)" },
                    { id: 'protect', text: "ğŸ›¡ï¸ é˜²é¢¨è­·è¾²ç”° (ä¿è­·ä½œç‰©)" },
                    { id: 'safe', text: "ğŸ›¤ï¸ ä¿è­·æ¨¹æ ¹ (è¡Œèµ°æ–¼æ¨¹å† )" },
                    { id: 'urban', text: "ğŸ™ï¸ é€£çµå‹•ç‰©æ£²åœ° (ç”Ÿæ…‹å»Šé“)" }
                ],
                correctMatches: { tw: 'protect', au: 'safe', sg: 'urban', jp: 'health' },
                hint: "å°ç£æ˜¯ç‚ºäº†ç¨®ç”°ï¼›æ¾³æ´²æ˜¯ç‚ºäº†ä¿è­·æ¨¹æ ¹ï¼›æ–°åŠ å¡æ˜¯ç‚ºäº†é€£çµæ£²åœ°ï¼›æ—¥æœ¬æ˜¯ç‚ºäº†æ£®æ—æµ´ã€‚",
                explanation: "ä¸–ç•Œå„åœ°çš„æ¨¹æœ¨æ­¥é“éƒ½å¾ˆå²å®³ï¼å°ç£æ“‹é¢¨ã€æ¾³æ´²è­·æ ¹ã€æ–°åŠ å¡é€£çµæ£²åœ°ã€æ—¥æœ¬ç™‚ç™’èº«å¿ƒã€‚æˆ‘å€‘éƒ½æ˜¯ç”¨æ¨¹æœ¨å®ˆè­·åœ°çƒçš„ä¸€ä»½å­ï¼"
            },
            {
                id: 5,
                title: "æœ€çµ‚é—œï¼šæˆ‘æ˜¯æ­¥é“å®ˆè­·å“¡",
                type: "sorting",
                icon: Icons.Shield,
                storyImage: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXc-wLRxOU-S-pS71wU1JPbmnV5i5Mop-vItODVxmsSnryyukrqYxjbjRg1zQJHi16E08eK8eNezDI-e3mOULZ9TW22R5crw6suAvcvmPnod6_b7c79goS-pLRASvIJfa6OCc7LbvaSOigTZVuKVzPI?key=FHIAIJ-gaW42Wi8RxY0FKw",
                question: "è«‹ã€Œä¾ç…§é‡è¦é †åºã€ï¼Œä¾åºé»é¸ä½ èªç‚ºæ­¥é“æœ€é‡è¦çš„ 3 å€‹å…ƒç´ ï¼š\n(ä½ çš„ç¬¬ä¸€é¸æ“‡ï¼Œå°‡æ±ºå®šä½ æœƒæˆç‚ºå“ªä¸€ç¨®å®ˆè­·å“¡å–”ï¼)",
                options: [
                    { id: 'tree', text: "ğŸŒ³ æ¨¹ (è‡ªç„¶ç’°å¢ƒ)" },
                    { id: 'human', text: "ğŸ§‘ äºº (ä½ çš„åƒèˆ‡)" },
                    { id: 'animal', text: "ğŸ¿ï¸ å‹•ç‰© (ç”Ÿæ…‹å¤šæ¨£)" },
                    { id: 'story', text: "ğŸ“– æ•…äº‹ (æ–‡åŒ–å‚³æ‰¿)" }
                ],
                requiredCount: 3,
                hint: "å…¶å¯¦æ¯ä¸€å€‹éƒ½å¾ˆé‡è¦ï¼Œè«‹è½å¾ä½ å…§å¿ƒçš„è²éŸ³ï¼Œé¸å‡ºä½ æœ€æœ‰æ„Ÿè¦ºçš„å§ï¼",
                explanation: "" // å‹•æ…‹ç”Ÿæˆ
            }
        ];

        // --- 3. ç‹€æ…‹ç®¡ç† (State) ---
        const state = {
            gameState: 'intro', // intro, playing, success
            currentLevel: 0,
            levelPhase: 'story', // story, quiz, feedback
            showHint: false,
            // éŠæˆ²äº’å‹•ç‹€æ…‹
            selectedOption: null, // å–®é¸
            multiSelections: [], // å¤šé¸
            matches: {}, // é…å° {leftId: rightId}
            selectedLeft: null, // é…å°ä¸­é¸ä¸­çš„å·¦é‚Š
            sortOrder: [], // æ’åº
            dynamicFeedback: "" // ç¬¬äº”é—œå›é¥‹
        };

        // --- 4. æ¸²æŸ“é‚è¼¯ (Render Functions) ---
        const app = document.getElementById('app');

        function render() {
            app.innerHTML = ''; // æ¸…ç©ºå…§å®¹

            if (state.gameState === 'intro') {
                renderIntro();
            } else if (state.gameState === 'success') {
                renderSuccess();
            } else {
                renderLevel();
            }
            
            // æ¯æ¬¡æ¸²æŸ“å¾Œæ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // æ¸²æŸ“ï¼šé–‹å ´ç•«é¢
        function renderIntro() {
            const html = `
                <div class="flex-1 flex flex-col items-center justify-center p-6 text-center animate-fade-in bg-emerald-50 min-h-screen">
                    <div class="bg-white p-8 rounded-2xl shadow-xl w-full border-b-4 border-emerald-600">
                        <div class="bg-emerald-100 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 text-emerald-600">
                            ${Icons.Globe.replace('width="24"', 'width="48"').replace('height="24"', 'height="48"')}
                        </div>
                        <h1 class="text-3xl font-bold text-gray-800 mb-2">ç™½åƒå±¤çš„å®ˆè­·ä»»å‹™</h1>
                        <p class="text-emerald-700 font-medium mb-6">è§€éŸ³æ­¥é“å®ˆè­·è€…æä¾†äº†ä¸€å‰‡è¨Šæ¯...</p>
                        
                        <div class="bg-gray-50 p-5 rounded-lg text-left text-gray-600 text-sm mb-8 leading-relaxed border border-gray-200 shadow-inner">
                            ã€Œè¦ªæ„›çš„å°å°æ¢éšªå®¶ï¼š<br><br>
                            è§€éŸ³ç™½åƒå±¤æ­¥é“æ­£é€æ¼¸è¢«äººå€‘éºå¿˜...<br>
                            åªæœ‰å®Œæˆ <span class="font-bold text-emerald-600">5 é“çŸ¥è­˜ä»»å‹™</span>ï¼Œ
                            æ‰èƒ½é‡æ–°å•Ÿå‹•å®ƒçš„æ–‡åŒ–ã€ç”Ÿæ…‹èˆ‡ä¸–ç•Œé€£ç·šã€‚<br><br>
                            æ¯ä¸€é—œéƒ½æœ‰ä¸€å€‹å°æ•…äº‹ï¼Œè«‹ä»”ç´°é–±è®€å¾Œå†å›ç­”å•é¡Œå–”ï¼<br><br>
                            ä½ é¡˜æ„æ¥å—æŒ‘æˆ°ï¼Œæˆç‚ºå®ˆè­·å“¡å—ï¼Ÿã€
                        </div>

                        <button onclick="startGame()" class="w-full bg-emerald-600 active:bg-emerald-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg transform transition active:scale-95 flex items-center justify-center gap-2 text-lg">
                            æ¥å—ä»»å‹™ï¼Œå‡ºç™¼ï¼ <span class="w-6 h-6">${Icons.ArrowRight}</span>
                        </button>
                    </div>
                </div>
            `;
            app.innerHTML = html;
        }

        // æ¸²æŸ“ï¼šæˆåŠŸç•«é¢
        function renderSuccess() {
             const html = `
                <div class="flex-1 flex flex-col items-center justify-center p-6 text-center animate-fade-in bg-gradient-to-b from-emerald-100 to-white min-h-screen">
                    <div class="bg-white p-8 rounded-2xl shadow-2xl w-full border-4 border-yellow-400 relative overflow-hidden">
                        <div class="absolute top-0 right-0 p-2 opacity-10 text-yellow-500 scale-150 transform translate-x-4 -translate-y-4">
                            ${Icons.Award.replace('width="24"', 'width="120"').replace('height="24"', 'height="120"')}
                        </div>
                    
                        <div class="bg-yellow-100 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce text-yellow-600">
                             ${Icons.Award.replace('width="24"', 'width="48"').replace('height="24"', 'height="48"')}
                        </div>
                        
                        <h1 class="text-3xl font-bold text-gray-800 mb-2">ä»»å‹™å®Œæˆï¼</h1>
                        <div class="text-lg font-bold text-emerald-600 mb-6">ğŸ‰ ç™½åƒå±¤åœ‹éš›å°å°å®ˆè­·å“¡</div>
                        
                        <div class="space-y-3 text-left bg-emerald-50 p-5 rounded-xl mb-6 text-sm sm:text-base">
                            <div class="flex items-center gap-3">
                                <span class="text-emerald-500 w-5 h-5">${Icons.CheckCircle}</span>
                                <span class="text-gray-700">ä½ å®ˆè­·äº†è‡ªç„¶ç”Ÿæ…‹</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="text-emerald-500 w-5 h-5">${Icons.CheckCircle}</span>
                                <span class="text-gray-700">ä½ ç†è§£äº†åœ¨åœ°æ–‡åŒ–</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="text-emerald-500 w-5 h-5">${Icons.CheckCircle}</span>
                                <span class="text-gray-700">ä½ å°‡è§€éŸ³é€£ä¸Šäº†ä¸–ç•Œ</span>
                            </div>
                        </div>

                        <!-- Photo Task Section -->
                        <div class="bg-yellow-50 border-2 border-yellow-200 border-dashed rounded-xl p-4 mb-8 text-center">
                            <div class="flex justify-center mb-2 text-yellow-600">
                                ${Icons.Camera.replace('width="24"', 'width="32"').replace('height="24"', 'height="32"')}
                            </div>
                            <h3 class="font-bold text-yellow-800 mb-2">ã€çµ‚æ¥µä»»å‹™ï¼šèˆ‡æ¨¹åˆå½±ã€‘</h3>
                            <p class="text-sm text-yellow-700 mb-4">
                                è«‹æ‰¾åˆ°ä¸€æ£µä½ æœ€å–œæ­¡çš„ç™½åƒå±¤ï¼Œå’Œå®ƒæ‹å¼µåˆç…§ï¼Œè­‰æ˜ä½ åˆ°æ­¤ä¸€éŠï¼
                            </p>
                            <a 
                                href="https://tycedu.padlet.org/tyc1255/padlet-ppnkl8dh1qepvrsd" 
                                target="_blank" 
                                rel="noopener noreferrer"
                                class="inline-flex items-center justify-center gap-2 w-full bg-yellow-500 active:bg-yellow-600 text-white font-bold py-3 px-4 rounded-lg shadow-md transition-colors"
                            >
                                <span class="w-5 h-5">${Icons.Upload}</span> ä¸Šå‚³ç…§ç‰‡åˆ° Padlet
                            </a>
                        </div>

                        <button onclick="window.location.reload()" class="w-full bg-gray-800 active:bg-gray-900 text-white font-bold py-3 px-6 rounded-xl shadow-lg text-lg">
                            å†æ¬¡æŒ‘æˆ°
                        </button>
                    </div>
                </div>
             `;
             app.innerHTML = html;
        }

        // æ¸²æŸ“ï¼šéŠæˆ²é—œå¡
        function renderLevel() {
            const data = levels[state.currentLevel];
            const progressPercent = ((state.currentLevel + 1) / levels.length) * 100;

            let contentHtml = '';

            // éšæ®µ 1: æ•…äº‹æ¨¡å¼
            if (state.levelPhase === 'story') {
                contentHtml = `
                    <div class="p-6 animate-fade-in bg-white min-h-[50vh] flex flex-col">
                        <div class="mb-8 flex-1 flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden border border-gray-100 shadow-sm">
                            <img 
                                src="${data.storyImage}" 
                                alt="${data.title} æ¼«ç•«" 
                                class="max-w-full h-auto object-contain w-full"
                                onerror="this.onerror=null;this.parentElement.innerHTML='<div class=\'p-4 text-center text-gray-500\'>ğŸ˜¢ æ¼«ç•«åœ–ç‰‡ç„¡æ³•è¼‰å…¥<br>è«‹æª¢æŸ¥ç¶²è·¯é€£ç·šæˆ–é€£çµæœ‰æ•ˆæ€§</div>'"
                            />
                        </div>
                        <button onclick="goToQuiz()" class="w-full bg-emerald-600 active:bg-emerald-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg flex justify-center items-center gap-2 text-lg animate-bounce-subtle mt-auto">
                            <span class="w-6 h-6">${Icons.BookOpen}</span> æˆ‘è®€å®Œäº†ï¼Œé–‹å§‹ä½œç­”ï¼
                        </button>
                    </div>
                `;
            } 
            // éšæ®µ 2 & 3: ç­”é¡Œèˆ‡å›é¥‹
            else {
                // æ±ºå®šæ“ä½œå€åŸŸå…§å®¹
                let interactiveArea = '';
                if (state.levelPhase === 'quiz') {
                    // æ ¹æ“šé¡Œå‹æ¸²æŸ“
                    if (data.type === 'quiz') {
                        interactiveArea = renderTypeQuiz(data);
                    } else if (data.type === 'matching') {
                        interactiveArea = renderTypeMatching(data);
                    } else if (data.type === 'multiselect') {
                        interactiveArea = renderTypeMultiSelect(data);
                    } else if (data.type === 'sorting') {
                        interactiveArea = renderTypeSorting(data);
                    }
                } else {
                    // å›é¥‹é¡¯ç¤º
                    const feedbackText = (state.currentLevel === 4) ? state.dynamicFeedback : data.explanation;
                    interactiveArea = `
                        <div class="animate-fade-in">
                            <div class="bg-emerald-50 border border-emerald-200 p-5 rounded-xl mb-6 text-emerald-900 shadow-sm">
                                <h4 class="font-bold flex items-center gap-2 mb-3 text-lg">
                                    <span class="text-emerald-600 w-5 h-5">${Icons.CheckCircle}</span> 
                                    ${state.currentLevel === 4 ? "å°ˆå±¬åˆ†æçµæœ" : "è©³è§£èˆ‡çŸ¥è­˜"}
                                </h4>
                                <p class="text-base leading-relaxed whitespace-pre-line">${feedbackText}</p>
                            </div>
                            <button onclick="nextLevel()" class="w-full bg-emerald-600 active:bg-emerald-700 text-white font-bold py-4 rounded-xl shadow-md flex justify-center items-center gap-2 text-lg">
                                ${state.currentLevel < levels.length - 1 ? "å‰å¾€ä¸‹ä¸€é—œ" : "æ°¸çºŒæ‰¿è«¾"} <span class="w-6 h-6">${Icons.ArrowRight}</span>
                            </button>
                        </div>
                    `;
                }

                // æç¤ºå€å¡Š - ä¿®æ­£ç‚º Flex-col ä»¥é¿å…æ‰‹æ©Ÿä¸Šæ“ å£“ï¼Œä¸¦èª¿æ•´é–“è·
                let hintSection = '';
                if (state.levelPhase === 'quiz') {
                    hintSection = `
                        <div class="mt-8 flex flex-col gap-3 px-1">
                            <div class="flex justify-between items-center w-full gap-2">
                                <button onclick="goToStory()" class="flex-1 text-gray-500 text-sm flex justify-center items-center gap-1 active:text-gray-700 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200 shadow-sm">
                                    <span class="w-4 h-4">${Icons.BookOpen}</span> å›å»çœ‹æ•…äº‹
                                </button>
                                <div class="relative flex-1">
                                    <button onclick="toggleHint()" class="w-full text-amber-600 text-sm font-bold flex justify-center items-center gap-1 active:text-amber-700 py-3 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors border border-amber-200 shadow-sm">
                                        <span class="w-4 h-4">${Icons.HelpCircle}</span>
                                        ${state.showHint ? "éš±è—æç¤º" : "å¦‚æœä¸ç¢ºå®š..."}
                                    </button>
                                    ${state.showHint ? `
                                        <div class="absolute bottom-full left-0 right-0 mb-2 bg-amber-50 border border-amber-200 text-amber-800 p-3 rounded-lg text-sm shadow-lg z-10 animate-fade-in">
                                            ğŸ’¡ ${data.hint}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                        <div class="mt-6">
                            <button onclick="checkAnswer()" class="w-full bg-gray-800 active:bg-gray-700 text-white font-bold py-4 rounded-xl shadow-md text-lg">
                                æ±ºå®šæ˜¯é€™å€‹äº†ï¼
                            </button>
                        </div>
                    `;
                }

                contentHtml = `
                    <div class="animate-fade-in">
                        <!-- å•é¡Œæ¨™é¡Œ -->
                        <div class="p-6 bg-yellow-50 border-b border-yellow-100">
                            <div class="flex items-start gap-3">
                                <span class="bg-yellow-400 text-white text-xs font-bold px-2 py-1 rounded mt-1 shrink-0">Q</span>
                                <p class="text-gray-800 font-bold text-lg leading-snug whitespace-pre-line">${data.question}</p>
                            </div>
                        </div>
                        
                        <!-- äº’å‹•å€ -->
                        <div class="p-6">
                            ${interactiveArea}
                            ${hintSection}
                        </div>
                    </div>
                `;
            }

            const html = `
                <div class="flex flex-col min-h-screen">
                    <div class="p-4 bg-gray-50 sticky top-0 z-20 shadow-sm">
                         <div class="flex justify-between items-center mb-2">
                            <h2 class="text-xs font-bold text-gray-500 uppercase tracking-wider">éŠæˆ²å­¸ç¿’ä¸­</h2>
                            <div class="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-xs font-bold">
                                Level ${state.currentLevel + 1}
                            </div>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div class="bg-emerald-600 h-2.5 rounded-full transition-all duration-500" style="width: ${progressPercent}%"></div>
                        </div>
                    </div>

                    <div class="flex-1 bg-white">
                        <!-- é—œå¡æ¨™é¡Œ -->
                        <div class="p-4 bg-emerald-50 border-b border-emerald-100 flex items-center gap-3">
                            <div class="p-2 bg-white rounded-lg shadow-sm text-emerald-600">
                                ${data.icon}
                            </div>
                            <h3 class="text-lg font-bold text-gray-800">${data.title}</h3>
                        </div>

                        ${contentHtml}
                    </div>
                    
                    <p class="text-center text-gray-400 text-xs py-6 bg-gray-50 mt-auto">
                        Â© è§€éŸ³é«˜ä¸­åœ‹éš›æ•™è‚²ç¤¾ç¾¤
                    </p>
                </div>
            `;
            app.innerHTML = html;
        }

        // --- å­æ¸²æŸ“å‡½æ•¸ï¼šé¡Œå‹ ---

        function renderTypeQuiz(data) {
            return `
                <div class="space-y-3">
                    ${data.options.map(opt => `
                        <button onclick="selectOption('${opt.id}')" 
                            class="w-full text-left p-4 rounded-xl border-2 transition-all active:scale-[0.98] ${state.selectedOption === opt.id ? 'border-emerald-500 bg-emerald-50 text-emerald-700 font-bold ring-2 ring-emerald-200' : 'border-gray-100 bg-white text-gray-600'}">
                            ${opt.text}
                        </button>
                    `).join('')}
                </div>
            `;
        }

        function renderTypeMatching(data) {
            // ä¿®æ­£ï¼šå¢åŠ å›ºå®šé«˜åº¦ h-24 å’Œ flex å±¬æ€§ï¼Œç¢ºä¿å°é½Š
            return `
                <div class="flex gap-2 justify-between">
                    <div class="flex flex-col gap-3 w-[48%]">
                        ${data.leftItems.map(item => `
                            <button onclick="clickLeft('${item.id}')" 
                                class="p-3 text-sm rounded-lg border-2 text-left transition-all h-24 flex items-center justify-start
                                ${state.matches[item.id] ? 'bg-emerald-100 border-emerald-500 opacity-70' : 
                                  state.selectedLeft === item.id ? 'bg-emerald-50 border-emerald-500 ring-2 ring-emerald-200 font-bold' : 'border-gray-200 bg-white'}">
                                ${item.text}
                            </button>
                        `).join('')}
                    </div>
                    <div class="flex flex-col gap-3 w-[48%]">
                        ${data.rightItems.map(item => {
                            const isMatched = Object.values(state.matches).includes(item.id);
                            return `
                                <button onclick="clickRight('${item.id}')"
                                    class="p-3 text-sm rounded-lg border-2 text-left h-24 flex items-center justify-start transition-all
                                    ${isMatched ? 'bg-emerald-100 border-emerald-500 opacity-70 font-bold' : 'border-gray-200 border-dashed bg-gray-50'}">
                                    ${isMatched ? "âœ… " + item.text : item.text}
                                </button>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
        }

        function renderTypeMultiSelect(data) {
            return `
                <div class="grid grid-cols-2 gap-3">
                    ${data.options.map(opt => `
                        <button onclick="toggleMulti('${opt.id}')"
                            class="p-4 rounded-xl border-2 flex flex-col items-center justify-center gap-2 transition-all active:scale-[0.98]
                            ${state.multiSelections.includes(opt.id) ? 'border-emerald-500 bg-emerald-50 text-emerald-700 ring-2 ring-emerald-200' : 'border-gray-100 bg-white text-gray-600'}">
                            <span class="text-3xl block mb-1">${opt.text.split(' ')[0]}</span>
                            <span class="font-bold text-sm text-center">${opt.text.split(' ')[1]}</span>
                        </button>
                    `).join('')}
                </div>
            `;
        }

        function renderTypeSorting(data) {
            return `
                <div class="space-y-4">
                    <div class="flex flex-wrap gap-2 justify-center mb-4 min-h-[60px] p-3 bg-gray-50 rounded-lg border border-gray-200 border-dashed items-center">
                        ${state.sortOrder.length === 0 ? '<span class="text-gray-400 text-sm">è«‹ä¾åºé»æ“Šä¸‹æ–¹é¸é …...</span>' : ''}
                        ${state.sortOrder.map((id, index) => {
                            const item = data.options.find(o => o.id === id);
                            return `
                                <span class="bg-emerald-600 text-white px-3 py-1.5 rounded-full text-sm font-bold flex items-center shadow-sm animate-fade-in">
                                    <span class="mr-2 bg-white text-emerald-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-extrabold">${index + 1}</span>
                                    ${item.text}
                                </span>
                            `;
                        }).join('')}
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        ${data.options.map(opt => `
                            <button onclick="toggleSort('${opt.id}')"
                                class="p-3 rounded-lg border-2 text-sm font-bold transition-all min-h-[50px]
                                ${state.sortOrder.includes(opt.id) ? 'opacity-40 cursor-not-allowed border-gray-200 bg-gray-100' : 'border-gray-200 bg-white text-gray-700 active:border-emerald-400 active:bg-emerald-50'}">
                                ${opt.text}
                            </button>
                        `).join('')}
                    </div>
                    ${state.sortOrder.length > 0 ? `
                        <button onclick="resetSort()" class="w-full text-center text-gray-400 text-xs underline py-2">é‡ç½®é¸æ“‡</button>
                    ` : ''}
                </div>
            `;
        }

        // --- 5. é‚è¼¯è™•ç† (Logic Handlers) ---

        window.startGame = () => {
            state.gameState = 'playing';
            state.currentLevel = 0;
            state.levelPhase = 'story';
            render();
        };

        window.goToQuiz = () => {
            state.levelPhase = 'quiz';
            state.showHint = false;
            // Reset interaction states
            state.selectedOption = null;
            state.multiSelections = [];
            state.matches = {};
            state.selectedLeft = null;
            state.sortOrder = [];
            render();
        };
        
        window.goToStory = () => {
            state.levelPhase = 'story';
            render();
        };

        window.toggleHint = () => {
            state.showHint = !state.showHint;
            render();
        };

        window.nextLevel = () => {
            if (state.currentLevel < levels.length - 1) {
                state.currentLevel++;
                state.levelPhase = 'story';
                render();
            } else {
                state.gameState = 'success';
                render();
            }
        };

        // --- äº’å‹•é‚è¼¯ ---

        // å–®é¸
        window.selectOption = (id) => {
            state.selectedOption = id;
            render();
        };

        // é…å°
        window.clickLeft = (id) => {
            // å¦‚æœå·²ç¶“é…å°ï¼Œé»æ“Šå‰‡å–æ¶ˆé…å°
            if (state.matches[id]) {
                delete state.matches[id];
            }
            state.selectedLeft = id;
            render();
        };

        window.clickRight = (id) => {
            if (!state.selectedLeft) return;
            state.matches[state.selectedLeft] = id;
            state.selectedLeft = null;
            render();
        };

        // å¤šé¸
        window.toggleMulti = (id) => {
            if (state.multiSelections.includes(id)) {
                state.multiSelections = state.multiSelections.filter(item => item !== id);
            } else {
                if (state.multiSelections.length < 2) {
                    state.multiSelections.push(id);
                }
            }
            render();
        };

        // æ’åº
        window.toggleSort = (id) => {
            if (state.sortOrder.includes(id)) {
                state.sortOrder = state.sortOrder.filter(item => item !== id);
            } else {
                if (state.sortOrder.length < 3) {
                    state.sortOrder.push(id);
                }
            }
            render();
        };

        window.resetSort = () => {
            state.sortOrder = [];
            render();
        };


        // --- ç­”æ¡ˆæª¢æŸ¥ ---

        window.checkAnswer = () => {
            const currentData = levels[state.currentLevel];

            // 1. å–®é¸é¡Œ
            if (currentData.type === 'quiz') {
                if (state.selectedOption === currentData.correctAnswer) {
                    state.levelPhase = 'feedback';
                    render();
                } else {
                    alert("ç­”æ¡ˆä¸å°å–”ï¼Œå›å»çœ‹çœ‹æ•…äº‹æ€éº¼èªªçš„ï¼");
                }
            }

            // 2. é…å°é¡Œ
            else if (currentData.type === 'matching') {
                const correctConfig = currentData.correctMatches;
                const currentKeys = Object.keys(state.matches);

                if (currentKeys.length !== currentData.leftItems.length) {
                    alert("é‚„æœ‰é¸é …é‚„æ²’é€£ç·šå–”ï¼");
                    return;
                }

                let allCorrect = true;
                currentKeys.forEach(leftKey => {
                    if (state.matches[leftKey] !== correctConfig[leftKey]) {
                        allCorrect = false;
                    }
                });

                if (allCorrect) {
                    state.levelPhase = 'feedback';
                    render();
                } else {
                    alert("æœ‰é€£ç·šéŒ¯èª¤å–”ï¼\n\nä¸ç”¨å…¨éƒ¨é‡ä¾†ï¼Œè«‹é»æ“Šã€ŒéŒ¯èª¤çš„å·¦é‚Šé¸é …ã€å–æ¶ˆé€£ç·šï¼Œç„¶å¾Œå†é¸ä¸€æ¬¡æ­£ç¢ºçš„ç­”æ¡ˆï¼");
                }
            }

            // 3. å¤šé¸é¡Œ
            else if (currentData.type === 'multiselect') {
                const correct = currentData.correctAnswers;
                if (state.multiSelections.length !== 2) {
                    alert("è«‹é¸æ“‡ 2 å€‹ç­”æ¡ˆï¼");
                    return;
                }
                const isCorrect = state.multiSelections.every(val => correct.includes(val));
                if (isCorrect) {
                    state.levelPhase = 'feedback';
                    render();
                } else {
                    alert("å¥½åƒæœ‰é¸åˆ°ä¸é©åˆé€™è£¡çš„å‹•ç‰©å–”ï¼Ÿ");
                }
            }

            // 4. æ’åºé¡Œ (Level 5)
            else if (currentData.type === 'sorting') {
                if (state.sortOrder.length !== 3) {
                    alert("è«‹é¸å‡º 3 å€‹æœ€é‡è¦çš„å…ƒç´ ï¼");
                    return;
                }

                // ç”Ÿæˆå°ˆå±¬å›é¥‹
                const firstChoice = state.sortOrder[0];
                let feedback = "";
                switch(firstChoice) {
                    case 'tree':
                        feedback = "å¾ˆæœ‰çœ¼å…‰ï¼ä½ å°‡ã€Œè‡ªç„¶ç’°å¢ƒã€æ”¾åœ¨ç¬¬ä¸€ä½ã€‚\n\næ²’éŒ¯ï¼Œå¥åº·çš„æ¨¹æœ¨æ˜¯æ‰€æœ‰ç”Ÿå‘½çš„åŸºçŸ³ã€‚æœ‰äº†ç©©å›ºçš„é˜²é¢¨æ—ï¼Œç”Ÿæ…‹èˆ‡äººé¡ç”Ÿæ´»æ‰èƒ½å¾—åˆ°ä¿éšœã€‚ä½ æ˜¯ä¸€ä½ã€Œè‡ªç„¶å®ˆè­·è€…ã€ï¼\n\nä¸éåˆ¥å¿˜äº†ï¼Œäººèˆ‡æ•…äº‹ä¹Ÿæ˜¯è³¦äºˆæ­¥é“éˆé­‚çš„é‡è¦å…ƒç´ å–”ï¼";
                        break;
                    case 'human':
                        feedback = "ä½ èªç‚ºã€Œäººçš„åƒèˆ‡ã€æœ€é‡è¦ï¼\n\nçœŸçš„ï¼Œå”¯æœ‰åœ¨åœ°å±…æ°‘èˆ‡éŠå®¢é¡˜æ„è¦ªè¿‘ã€æ„›è­·ï¼Œé€™æ¢æ­¥é“æ‰ä¸æœƒè¢«éºå¿˜ã€‚ä½ æ˜¯ä¸€ä½å……æ»¿ç†±æƒ…çš„ã€Œç¤¾ç¾¤å®ˆè­·è€…ã€ï¼\n\nç•¶ç„¶ï¼Œæˆ‘å€‘ä¹Ÿè¦åŠªåŠ›ç¶­æŒæ¨¹æœ¨èˆ‡ç”Ÿæ…‹çš„å¥åº·ï¼Œè®“äººå€‘æ°¸é æœ‰ç¶ åœ°å¯ä»¥èµ°ï¼";
                        break;
                    case 'animal':
                        feedback = "ä½ æ“æœ‰ä¸€é¡†æº«æŸ”çš„å¿ƒï¼Œå°‡ã€Œå‹•ç‰©ã€æ”¾åœ¨ç¬¬ä¸€ä½ã€‚\n\nä¿è­·æ£²åœ°è®“ç™½é·ºé·¥ã€é’è›™èƒ½å®‰å±…æ¨‚æ¥­ï¼Œå±•ç¾äº†å°ç”Ÿå‘½çš„å°Šé‡ã€‚ä½ æ˜¯ä¸€ä½å¾ˆæœ‰æ„›å¿ƒçš„ã€Œç”Ÿæ…‹å®ˆè­·è€…ã€ï¼\n\nè€Œé€™ä¹Ÿéœ€è¦å¥åº·çš„æ¨¹æœ¨èˆ‡äººé¡çš„å®ˆè­·æ‰èƒ½é”æˆå–”ï¼";
                        break;
                    case 'story':
                        feedback = "ä½ é¸æ“‡äº†ã€Œæ•…äº‹ã€ä½œç‚ºæ ¸å¿ƒã€‚\n\næ–‡åŒ–çš„å‚³æ‰¿è®“æ­¥é“ä¸åªæ˜¯è·¯ï¼Œè€Œæ˜¯ä¸€æ¢é€£çµéå»èˆ‡æœªä¾†çš„æ™‚å…‰éš§é“ï¼ä½ æ˜¯ä¸€ä½æœ‰æ·±åº¦çš„ã€Œæ–‡åŒ–å®ˆè­·è€…ã€ï¼\n\nå¸Œæœ›ä½ èƒ½æŠŠç™½åƒå±¤èˆ‡çŸ³è§€éŸ³çš„æ•…äº‹ï¼Œç¹¼çºŒèªªçµ¦æ›´å¤šäººè½ï¼";
                        break;
                    default:
                        feedback = "æ¯å€‹å…ƒç´ éƒ½ç¼ºä¸€ä¸å¯ï¼å¾ˆé«˜èˆˆä½ å®Œæˆäº†é€™é …è‰±é›£çš„é¸æ“‡ã€‚";
                }
                state.dynamicFeedback = feedback;
                state.levelPhase = 'feedback';
                render();
            }
        };

        // åˆå§‹åŒ–
        render();

    </script>
</body>
</html>
